<div class="container">
  <nav class="nav mb-5">
    <div class="nav-left">
      <h3>Edit Post</h3>
      <a class="router" (click)="cancel()">Go back to Home page</a>
    </div>
    <div class="nav-right">
      <p>Welcome {{ title }}!</p>
    </div>
  </nav>
</div>
<div class="container">
  <form class="postForm" [formGroup]="newPostForm" (ngSubmit)="submitForm()">
    <div class="form-group">
      <label>Title</label>
      <br />

      <input
        [(ngModel)]="editTitle"
        formControlName="postTitle"
        type="text"
        #titleData
        class="form-control"
        (input)="onInputChange(titleData.value, messageData.value)"
        [ngClass]="{'isValid':newPostForm.get('postTitle')?.errors?.['maxlength'] && newPostForm.get('postTitle')?.dirty && newPostForm.get('postTitle')?.touched }"
      />
      <p
        class="editError text-danger"
        style="float: right"
        *ngIf="newPostForm.get('postTitle')?.errors?.['maxlength'] && newPostForm.get('postTitle')?.dirty && newPostForm.get('postTitle')?.touched"
      >
        Title must be less than 200 characters!
      </p>
    </div>
    <div class="form-group">
      <label>Message</label>
      <br />
      <textarea
        [(ngModel)]="editMessage"
        formControlName="postMessage"
        #messageData
        (input)="onInputChange(titleData.value, messageData.value)"
        class="form-control"
        [ngClass]="{'isValid':newPostForm.get('postMessage')?.errors?.['maxlength'] && newPostForm.get('postMessage')?.dirty && newPostForm.get('postMessage')?.touched }"
        cols="30"
        rows="5"
      ></textarea>
      <p
        class="editError text-danger"
        style="float: right"
        *ngIf="newPostForm.get('postTitle')?.errors?.['maxlength'] && newPostForm.get('postTitle')?.dirty && newPostForm.get('postTitle')?.touched"
      >
        Title must be less than 200 characters!
      </p>
    </div>
    <a class="btnCustom" (click)="deletePost()" style="float: left"> Delete </a>
    <div class="btnPost">
      <button
        type="submit"
        [ngClass]="{ btnDisabled: !newPostForm.valid }"
        class="btnCustom"
      >
        Save
      </button>
      <a class="btnCustom" (click)="cancel()">Cancel</a>
    </div>
  </form>
  <p
    class="editError text-danger"
    *ngIf="newPostForm.get('postMessage')?.errors?.['maxlength'] && newPostForm.get('postMessage')?.dirty && newPostForm.get('postMessage')?.touched"
  >
    Message must be less than 2000 characters!
  </p>
</div>
